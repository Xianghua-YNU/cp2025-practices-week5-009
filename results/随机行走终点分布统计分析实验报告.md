# 随机行走终点分布统计分析实验报告

## 1. 实验目的
简要说明本实验的主要目标和研究内容。

研究二维随机行走的终点分布特性，通过统计分析和可视化方法探索随机行走的统计规律，并验证中心极限定理在该过程中的应用。

## 2. 实验原理
### 2.1 随机行走模型
描述二维随机行走的基本原理和数学模型。

对于一个进行n步完全随机行走的粒子，其位置可以用随时间变化的坐标表示。具体模型可以表示如下：
•	设粒子在第n步的位置为(Xn,Yn)，初始位置为(X0,Y0)=(0,0)。
•	移动规则表示为：
Xn+1=Xn+ΔXn
Yn+1=Yn+ΔYn
其中：
•	ΔXn 和 ΔYn 是粒子在第n步的变化量，针对对角随机行走，可取值为 {-1, 1}，且各个方向的选择是均匀的。
•	终点的位置可以表示为
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block">
  <mo stretchy="false">(</mo>
  <msub>
    <mi>X</mi>
    <mi>n</mi>
  </msub>
  <mo>,</mo>
  <msub>
    <mi>Y</mi>
    <mi>n</mi>
  </msub>
  <mo stretchy="false">)</mo>
  <mo>=</mo>
  <munderover>
    <mo data-mjx-texclass="OP">&#x2211;</mo>
    <mrow data-mjx-texclass="ORD">
      <mi>i</mi>
      <mo>=</mo>
      <mn>0</mn>
    </mrow>
    <mrow data-mjx-texclass="ORD">
      <mi>n</mi>
      <mo>&#x2212;</mo>
      <mn>1</mn>
    </mrow>
  </munderover>
  <mi mathvariant="normal">&#x394;</mi>
  <msub>
    <mi>X</mi>
    <mi>i</mi>
  </msub>
  <mo>,</mo>
  <munderover>
    <mo data-mjx-texclass="OP">&#x2211;</mo>
    <mrow data-mjx-texclass="ORD">
      <mi>i</mi>
      <mo>=</mo>
      <mn>0</mn>
    </mrow>
    <mrow data-mjx-texclass="ORD">
      <mi>n</mi>
      <mo>&#x2212;</mo>
      <mn>1</mn>
    </mrow>
  </munderover>
  <mi mathvariant="normal">&#x394;</mi>
  <msub>
    <mi>Y</mi>
    <mi>i</mi>
  </msub>
</math>

### 2.2 中心极限定理
解释中心极限定理及其在本实验中的应用。

中心极限定理在实验中的应用
在本实验中，我们模拟了二维随机行走，通过统计分析随机行走的终点分布，我们可以利用中心极限定理解释和预测其行为：

随机行走模型：

在每次随机行走中，粒子的位置在每一步是由二维坐标 (X, Y) 的增量决定的。每一步的增量是独立的，而且这些增量的期望值是0，其方差是常数。
终点分布的平均行为：

经过多次实验（例如1000次随机行走，每次1000步），我们收集每次实验的终点位置，然后计算每个坐标（x和y）的样本均值和样本方差。
根据中心极限定理，随着实验次数的增加，无论每次随机行走终点分布如何（可能不是正态分布），其样本均值的分布将趋近于正态分布。因此，我们可以预期最终的终点位置 (X_n, Y_n) 的分布会在坐标轴的中央附近。
统计分析：

在实验中，我们可以绘制x和y坐标的频率分布直方图，以观察它们如何随样本量的增加而趋于正态分布。
通过计算终点的样本期望值（均值）和样本方差，我们可以检查这些数值是否接近理论推导值（理论期望值为0，方差为n）。
图示效果：

看到散点图中的分布越来越接近直立的钟形曲线时，这将验证中心极限定理的有效性

## 3. 实验结果
### 3.1 终点分布可视化
[插入终点分布散点图]
![image](https://github.com/user-attachments/assets/ba241fdf-3288-4dd1-a2ef-3ab0dd0850ab)

- 描述观察到的分布特征

- 散点图中的点主要集中在原点附近，逐渐向外扩展

- 散点图通常呈现出一种接近圆形的分布模式

- 随着距离原点的增加，散点密度逐渐减小
- 

- 分析分布的对称性和范围

- 散点图显示出中心对称性，即沿x轴和y轴的线对称。由于随机行走的每一步都是独立且等概率的，x和y坐标的变化是对称的，因此可以推断出终点分布也是对称的。这种对称性符合中心极限定理的预期，随机行走在平均值为零的条件下，其分布集中在原点。

### 3.2 统计分析结果
[插入X坐标分布直方图]
![image](https://github.com/user-attachments/assets/e5d036df-12b4-466b-9ef7-39bff5b89ac8)

- 样本均值：-0.92
- 样本方差：893.94
- 分析结果与理论预期的符合程度

- X坐标分布的直方图通常呈现出一种近似正态分布的形状。这是由于随机行走过程中的每一步都是独立的并且是均匀分布的，随着步数的增加，X坐标的分布会根据中心极限定理趋于正态分布。坐标分布直方图的特征与理论预期良好吻合。

## 4. 理论分析
### 4.1 单步随机行走分析
分析单步随机行走的概率分布特征。

均匀性：
每个方向的选择是均匀的，因此单步随机行走的移动方向没有偏向任何特定方向。

独立性：
每一步的移动是独立同分布的，当前步的选择不会影响下一个步的选择。

### 4.2 终点分布的理论推导
结合中心极限定理，推导终点分布的理论形式。

在n步随机行走中，假设粒子从原点 (0,0) 出发，经过n步随机行走后，终点位置为 (Xn,Yn)。根据之前的讨论，X坐标和Y坐标都可看作是独立随机变量的和。
•	对于每一步，我们可以定义X和Y的变化量如下：

•	Xn=Xn−1+ΔXn

•	Yn=Yn−1+ΔYn

其中 ΔXn 和 ΔYn 是每一步的随机增量，分别为 1 或 −1 以相同的概率选择。
根据中心极限定理，对于足够大的n，X_n和Y_n展示出接近正态分布的特性，且期望和方差可表示为：

1.	期望值：
E[Xn]=E[Yn]=0

2.	方差：
Var(Xn)=Var(Yn)=n
因此，终点分布的理论形式可以推导为：
联合分布联合分布(Xn,Yn)∼N(0,n)联合分布
这意味着在大样本下，随机行走的终点位置的分布在X轴和Y轴上都将近似呈现正态分布。


### 4.3 实验结果与理论的对比
比较实验观测和理论预测的异同。

相似性：

均值：实验中量测得到的X坐标和Y坐标的均值通常接近0，符合理论预期。

正态性：实验结果的分布在经过一定步数后，呈现出近似正态分布的形状，这与根据中心极限定理的推导结果一致。

差异性：

波动性：在实验中，由于随机性的影响，终点的分布可能会出现较大的波动，特别是在步数较少的情况下，可能偏离0均值较大，而理论预测是在样本量趋近无穷大时的结果。

尾部分布：实验中的分布可能出现“重尾”现象，即与理论的正态分布相比，某些终点值可能出现比理论更高的频次，尤其在步数不高时。

## 5. 讨论与结论
### 5.1 主要发现
总结实验的主要发现和结论。

随机行走的终点分布：
实验表明，经过多次步数的随机行走终点分布呈现出明显的中心对称性，终点大多数集中在起点附近，符合中心极限定理的预期。
X和Y坐标的分布均接近正态分布，尤其在步数增加后，随着样本数量的增大，样本均值和方差逐渐接近理论值。

对称性：
散点图和直方图分析均显示X和Y坐标的分布是对称的，呈现出良好的随机性，结果与理论分析一致。

步数与分布特性：
观察到步数的增加直接导致终点分布的展开，且样本的标准差按预期增加，显示出更高的波动性。

### 5.2 实验误差分析
分析可能的误差来源及其影响。

随机性误差：
随机行走的本质带来了固有的随机性，导致每次实验的结果有所不同。这种随机性可能导致某些路径出现频率高于预期，从而影响终点的分布特征。

样本量不足：
如果实验中的步数或实验次数不足（例如步数较少，或只进行少量实验），可能导致结果不稳定，无法充分展示中心极限定理的效果，从而与理论预测的分布不符。

编程或运算误差：
在实现随机行走的模拟过程中，程序中的逻辑错误或计算误差可能影响最終结果。例如，步长设定错误或数据记录错误。

图示表达的误差：
绘制直方图和散点图的过程中，选择的区间和分辨率不当可能导致观察到的分布扭曲，进而影响解读。

### 5.3 改进建议
提出实验改进的建议。

多样本验证：

考虑不止一种随机行走模式（例如不同的步长或者不同的运动方向选择概率），并将其结果进行比较和分析，以增强实验的全面性。

## 6. 参考文献
列出参考的文献和资料。
彭芳麟，《计算物理基础》

Jesse M. Kinder，Philip Nelson，《Python物理建模初学者指南》
